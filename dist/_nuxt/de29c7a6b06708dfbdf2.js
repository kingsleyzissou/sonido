(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{359:function(t,e,n){var content=n(364);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(16).default)("4366dfca",content,!0,{sourceMap:!1})},360:function(t,e,n){"use strict";n(17);e.a=function(t){return'<a href="/artists/'.concat(t.id,'">').concat(t.name,"</a>")}},361:function(t,e,n){"use strict";n(14);var r=n(0),o=n.n(r),l=n(20),c=n(360),d={props:{tracks:Array,full:{type:Boolean,default:!1}},components:{Table:l.f},data:function(){return{data:{songs:[]}}},mounted:function(){var t,data;return regeneratorRuntime.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(this.$axios.get("tracks",{params:{ids:this.trackIDs()}}));case 2:t=e.sent,data=t.data,this.data.songs=data.tracks;case 5:case"end":return e.stop()}}),null,this)},methods:{play:function(track){if(this.nowPlaying(track.id))return this.$unpause(this.$store);this.$play(track,this.$store,this.$axios)},pause:function(){this.$pause(this.$store,this.$axios)},unpause:function(){this.$unpause(this.$store,this.$axios)},trackIDs:function(){return this.tracks.map((function(track){return track.id})).join(",")},nowPlaying:function(t){return this.$store.state.transport.nowPlaying.id==t},addToPlaylist:function(track){this.$bus.$emit("add-to-playlist",track)}},computed:{songs:function(){return this.data.songs}},filters:{stringify:function(t){var e=t.length;return 1===e?Object(c.a)(t[0]):e<3?t.map((function(a){return Object(c.a)(a)})).join(", "):(t=t.slice(0,2)).map((function(a){return Object(c.a)(a)})).join(", ")+"..."},duration:function(time){var t=o.a.duration(time);return o.a.utc(t.asMilliseconds()).format("mm:ss")}}},h=(n(363),n(3)),component=Object(h.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[n("card",{staticClass:"card-plain"},[n("div",{staticClass:"table-full-width table-responsive"},[n("table",{staticClass:"table tablesorter"},[n("thead",[n("tr",[n("th",{attrs:{width:"5%"}}),t._v(" "),n("th",[t._v("Title")]),t._v(" "),t.full?n("th",[t._v("Artist")]):t._e(),t._v(" "),t.full?n("th",[t._v("Album")]):t._e(),t._v(" "),n("th",{attrs:{width:"5%"}}),t._v(" "),n("th",{attrs:{width:"5%"}}),t._v(" "),n("th",{staticClass:"text-right",attrs:{width:"8%"}},[t._v("Duration")]),t._v(" "),n("th",{attrs:{width:"5%"}},[t._v("Popularity")])])]),t._v(" "),n("tbody",t._l(t.songs,(function(track,e){return n("tr",{key:e},[track?[n("td",[t.nowPlaying(track.id)?[t.$store.state.transport.isPlaying?n("button",{staticClass:"btn btn-link",on:{click:t.pause}},[n("i",{staticClass:"tim-icons icon-button-pause"})]):n("button",{staticClass:"btn btn-link",on:{click:t.unpause}},[n("i",{staticClass:"tim-icons icon-triangle-right-17"})])]:[n("button",{staticClass:"btn btn-link",on:{click:function(e){return t.play(track)}}},[n("i",{staticClass:"tim-icons icon-triangle-right-17"})])]],2),t._v(" "),n("td",[t._v("\n                  "+t._s(track.name)+"Â \n                  "),track.explicit?n("span",{staticClass:"badge badge-outline badge-secondary"},[t._v("Explicit")]):t._e()]),t._v(" "),t.full?n("td",[n("span",{domProps:{innerHTML:t._s(t.$options.filters.stringify(track.artists))}})]):t._e(),t._v(" "),t.full?n("td",[n("nuxt-link",{staticClass:"text-primary",attrs:{to:"/albums/"+track.album.id}},[t._v(t._s(track.album.name))])],1):t._e(),t._v(" "),n("td",[n("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.addToPlaylist(track)}}},[n("i",{staticClass:"tim-icons icon-simple-add text-primary"})])]),t._v(" "),n("td",{staticClass:"text-right"},[n("nuxt-link",{attrs:{to:"/tracks/"+track.id}},[n("i",{staticClass:"tim-icons icon-chart-bar-32 text-primary"})])],1),t._v(" "),n("td",{staticClass:"text-right"},[t._v(t._s(t._f("duration")(track.duration_ms)))]),t._v(" "),n("td",[n("div",{staticClass:"progress md-progress",staticStyle:{height:"8px"}},[n("div",{staticClass:"progress-bar bg-success",style:{width:track.popularity+"%",height:"8px"},attrs:{role:"progressbar","aria-valuenow":track.popularity,"aria-valuemin":"0","aria-valuemax":"100"}})])])]:t._e()],2)})),0)])])])],1)])}),[],!1,null,null,null);e.a=component.exports},362:function(t,e,n){var content=n(372);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(16).default)("71741d92",content,!0,{sourceMap:!1})},363:function(t,e,n){"use strict";var r=n(359);n.n(r).a},364:function(t,e,n){(t.exports=n(15)(!1)).push([t.i,".card:hover>.card-img{opacity:.5}.toggler{display:block;padding:.25rem .75rem;font-size:.99925rem;line-height:1;background-color:transparent;border:.0625rem solid transparent;border-radius:.25rem;cursor:pointer;outline:none}.toggler-bar{display:block;position:relative;width:22px;height:1px;border-radius:1px;background:#fff}.toggler-kebab{margin-top:0;height:4px;width:4px;margin-bottom:3px;border-radius:50%}",""])},371:function(t,e,n){"use strict";var r=n(362);n.n(r).a},372:function(t,e,n){(t.exports=n(15)(!1)).push([t.i,".gradient-overlay{height:300px}",""])},380:function(t,e,n){"use strict";n(17),n(11),n(6),n(58);var r=n(21),o=(n(14),n(365)),l=n.n(o),c={props:["user"],data:function(){return{loading:!0,data:{following:!1,hex:""}}},mounted:function(){var t,e,n;return regeneratorRuntime.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,regeneratorRuntime.awrap(Promise.all([this.$axios.get("/me/following/contains?type=user&ids=".concat(this.user.id))]));case 2:t=o.sent,e=Object(r.a)(t,2),n=e[0],e[1],this.loading=!1,this.data={following:n.data[0]};case 8:case"end":return o.stop()}}),null,this)},methods:{follow:function(){return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(this.$axios.put("/me/following?type=user",{ids:[this.user.id]}));case 2:this.data.following=!0,this.notify("primary","Success! You are now following ".concat(this.user.name));case 4:case"end":return t.stop()}}),null,this)},unfollow:function(){return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(this.$axios.delete("/me/following?type=user",{data:{ids:[this.user.id]}}));case 2:this.data.following=!1,this.notify("danger","Success! You have unfollowed ".concat(this.user.name));case 4:case"end":return t.stop()}}),null,this)},notify:function(t,e){this.$notify({type:t,message:e,verticalAlign:"top",horizontalAlign:"right"})}},computed:{image:function(){return this.user.images.length>0?this.user.images[0].url:"/img/placeholder-square.png"},following:function(){return this.data.following},hex:function(){return this.data.hex}},filters:{humanReadable:function(t){return l()(t).format({thousandSeparated:!0,average:!0})}}},d=(n(371),n(3)),component=Object(d.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],staticClass:"row"},[n("div",{staticClass:"col-12"},[n("card",[n("div",{staticClass:"d-flex align-items-end"},[n("div",{staticClass:"mr-4",staticStyle:{width:"250px",height:"100%"}},[n("img",{staticStyle:{width:"100%"},attrs:{src:t.image,alt:"Profile picture"}})]),t._v(" "),n("div",{staticClass:"mr-2"},[n("h6",{staticClass:"mb-0"},[t._v("User")]),t._v(" "),n("h1",{staticClass:"card-title"},[t._v(t._s(t.user.display_name))]),t._v(" "),n("h6",{staticClass:"card-subtitle mb-2 text-muted"},[t._v(t._s(t._f("humanReadable")(t.user.followers.total))+" followers")]),t._v(" "),t.user.id!=t.$auth.$state.user.id?n("div",{staticClass:"mt-2 mb-2"},[t.following?n("base-button",{attrs:{round:"",simple:"",type:"success"},on:{click:t.unfollow}},[t._v("Unfollow")]):n("base-button",{attrs:{round:"",type:"primary"},on:{click:t.follow}},[t._v("Follow")])],1):t._e()])])])],1)])}),[],!1,null,null,null);e.a=component.exports},414:function(t,e,n){"use strict";n.r(e);var r=n(380),o=(n(14),n(361)),l={components:{Tracklist:o.a},data:function(){return{loading:!0,data:{recents:[]}}},mounted:function(){var t,e,n;return regeneratorRuntime.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,regeneratorRuntime.awrap(this.$axios.$get("me/player/recently-played"));case 2:t=r.sent,e=t.items,n=e.map((function(t){return t.track})),this.data.recents=n,this.loading=!1;case 7:case"end":return r.stop()}}),null,this)},computed:{recents:function(){return this.data.recents}}},c=n(3),d=Object(c.a)(l,(function(){var t=this.$createElement,e=this._self._c||t;return e("fragment",[this.loading?this._e():[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("card",{staticClass:"mb-0",attrs:{type:"plain"}},[e("h3",{staticClass:"card-title mb-0"},[this._v("Recently Played")])])],1)]),this._v(" "),e("tracklist",{attrs:{tracks:this.recents,full:!0}})]],2)}),[],!1,null,null,null).exports,h={components:{UserCard:r.a,RecentlyPlayed:d,Tracklist:o.a},data:function(){return{user:this.$auth.$state.user}}},f=Object(c.a)(h,(function(){var t=this.$createElement,e=this._self._c||t;return e("fragment",[e("user-card",{attrs:{user:this.$auth.$state.user}}),this._v(" "),e("card",{staticClass:"mb-0",attrs:{type:"plain"}},[e("h3",{staticClass:"card-title mb-0"},[this._v("Top tracks")])]),this._v(" "),e("tracklist",{attrs:{tracks:this.$store.state.top.tracks,full:!0}}),this._v(" "),e("recently-played")],1)}),[],!1,null,null,null);e.default=f.exports}}]);