(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{359:function(t,n,r){var content=r(364);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(16).default)("4366dfca",content,!0,{sourceMap:!1})},360:function(t,n,r){"use strict";r(17);n.a=function(t){return'<a href="/artists/'.concat(t.id,'">').concat(t.name,"</a>")}},361:function(t,n,r){"use strict";r(14);var e=r(0),o=r.n(e),l=r(20),c=r(360),d={props:{tracks:Array,full:{type:Boolean,default:!1}},components:{Table:l.f},data:function(){return{data:{songs:[]}}},mounted:function(){var t,data;return regeneratorRuntime.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,regeneratorRuntime.awrap(this.$axios.get("tracks",{params:{ids:this.trackIDs()}}));case 2:t=n.sent,data=t.data,this.data.songs=data.tracks;case 5:case"end":return n.stop()}}),null,this)},methods:{play:function(track){if(this.nowPlaying(track.id))return this.$unpause(this.$store);this.$play(track,this.$store,this.$axios)},pause:function(){this.$pause(this.$store,this.$axios)},unpause:function(){this.$unpause(this.$store,this.$axios)},trackIDs:function(){return this.tracks.map((function(track){return track.id})).join(",")},nowPlaying:function(t){return this.$store.state.transport.nowPlaying.id==t},addToPlaylist:function(track){this.$bus.$emit("add-to-playlist",track)}},computed:{songs:function(){return this.data.songs}},filters:{stringify:function(t){var n=t.length;return 1===n?Object(c.a)(t[0]):n<3?t.map((function(a){return Object(c.a)(a)})).join(", "):(t=t.slice(0,2)).map((function(a){return Object(c.a)(a)})).join(", ")+"..."},duration:function(time){var t=o.a.duration(time);return o.a.utc(t.asMilliseconds()).format("mm:ss")}}},m=(r(363),r(3)),component=Object(m.a)(d,(function(){var t=this,n=t.$createElement,r=t._self._c||n;return r("div",{staticClass:"row"},[r("div",{staticClass:"col-12"},[r("card",{staticClass:"card-plain"},[r("div",{staticClass:"table-full-width table-responsive"},[r("table",{staticClass:"table tablesorter"},[r("thead",[r("tr",[r("th",{attrs:{width:"5%"}}),t._v(" "),r("th",[t._v("Title")]),t._v(" "),t.full?r("th",[t._v("Artist")]):t._e(),t._v(" "),t.full?r("th",[t._v("Album")]):t._e(),t._v(" "),r("th",{attrs:{width:"5%"}}),t._v(" "),r("th",{attrs:{width:"5%"}}),t._v(" "),r("th",{staticClass:"text-right",attrs:{width:"8%"}},[t._v("Duration")]),t._v(" "),r("th",{attrs:{width:"5%"}},[t._v("Popularity")])])]),t._v(" "),r("tbody",t._l(t.songs,(function(track,n){return r("tr",{key:n},[track?[r("td",[t.nowPlaying(track.id)?[t.$store.state.transport.isPlaying?r("button",{staticClass:"btn btn-link",on:{click:t.pause}},[r("i",{staticClass:"tim-icons icon-button-pause"})]):r("button",{staticClass:"btn btn-link",on:{click:t.unpause}},[r("i",{staticClass:"tim-icons icon-triangle-right-17"})])]:[r("button",{staticClass:"btn btn-link",on:{click:function(n){return t.play(track)}}},[r("i",{staticClass:"tim-icons icon-triangle-right-17"})])]],2),t._v(" "),r("td",[t._v("\n                  "+t._s(track.name)+" \n                  "),track.explicit?r("span",{staticClass:"badge badge-outline badge-secondary"},[t._v("Explicit")]):t._e()]),t._v(" "),t.full?r("td",[r("span",{domProps:{innerHTML:t._s(t.$options.filters.stringify(track.artists))}})]):t._e(),t._v(" "),t.full?r("td",[r("nuxt-link",{staticClass:"text-primary",attrs:{to:"/albums/"+track.album.id}},[t._v(t._s(track.album.name))])],1):t._e(),t._v(" "),r("td",[r("a",{attrs:{href:"#"},on:{click:function(n){return n.preventDefault(),t.addToPlaylist(track)}}},[r("i",{staticClass:"tim-icons icon-simple-add text-primary"})])]),t._v(" "),r("td",{staticClass:"text-right"},[r("nuxt-link",{attrs:{to:"/tracks/"+track.id}},[r("i",{staticClass:"tim-icons icon-chart-bar-32 text-primary"})])],1),t._v(" "),r("td",{staticClass:"text-right"},[t._v(t._s(t._f("duration")(track.duration_ms)))]),t._v(" "),r("td",[r("div",{staticClass:"progress md-progress",staticStyle:{height:"8px"}},[r("div",{staticClass:"progress-bar bg-success",style:{width:track.popularity+"%",height:"8px"},attrs:{role:"progressbar","aria-valuenow":track.popularity,"aria-valuemin":"0","aria-valuemax":"100"}})])])]:t._e()],2)})),0)])])])],1)])}),[],!1,null,null,null);n.a=component.exports},363:function(t,n,r){"use strict";var e=r(359);r.n(e).a},364:function(t,n,r){(t.exports=r(15)(!1)).push([t.i,".card:hover>.card-img{opacity:.5}.toggler{display:block;padding:.25rem .75rem;font-size:.99925rem;line-height:1;background-color:transparent;border:.0625rem solid transparent;border-radius:.25rem;cursor:pointer;outline:none}.toggler-bar{display:block;position:relative;width:22px;height:1px;border-radius:1px;background:#fff}.toggler-kebab{margin-top:0;height:4px;width:4px;margin-bottom:3px;border-radius:50%}",""])},373:function(t,n,r){var content=r(392);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(16).default)("15587b2c",content,!0,{sourceMap:!1})},391:function(t,n,r){"use strict";var e=r(373);r.n(e).a},392:function(t,n,r){(t.exports=r(15)(!1)).push([t.i,".album-title[data-v-321176a5]{font-size:36px;font-weight:700;margin-bottom:0}",""])},415:function(t,n,r){"use strict";r.r(n);r(14),r(17);var e=r(0),o=r.n(e),l=function(t){return'<a href="/artists/'.concat(t.id,'">').concat(t.name,"</a>")},c={props:["album"],methods:{play:function(){this.$play(this.album,this.$store,this.$axios)}},filters:{pluralise:function(t){return 1==t?"1 song":"".concat(t," songs")},getYear:function(t){return o()(t,"YYYY-MM-DD").year()},getDuration:function(t){var n=t.reduce((function(t,track){return t+track.duration_ms}),0);return o.a.duration(n).humanize()},stringify:function(t){return 1===t.length?l(t[0]):t.map((function(a){return l(a)})).join(", ")}}},d=(r(391),r(3)),m={layout:"dashboard",components:{AlbumCard:Object(d.a)(c,(function(){var t=this,n=t.$createElement,r=t._self._c||n;return r("fragment",[r("div",{staticClass:"row"},[r("div",{staticClass:"col-12"},[r("div",{staticClass:"card p-2"},[r("div",{staticClass:"card-body"},[r("div",{staticClass:"d-flex align-items-end"},[r("div",{staticClass:"mr-4",staticStyle:{width:"275px",height:"100%"}},[r("img",{attrs:{src:t.album.images[0].url,alt:"Album cover"}})]),t._v(" "),r("div",{staticClass:"mr-2"},[r("h6",{staticClass:"mb-0"},[t._v("Album")]),t._v(" "),r("h2",{staticClass:"album-title"},[t._v(t._s(t.album.name))]),t._v(" "),r("span",[t._v("by")]),t._v(" "),r("h6",{staticClass:"muted",domProps:{innerHTML:t._s(t.$options.filters.stringify(t.album.artists))}}),t._v(" "),r("ul",{staticClass:"list-inline mb-0"},[r("li",{staticClass:"list-inline-item"},[t._v(t._s(t._f("getYear")(t.album.release_date))+"  |")]),t._v(" "),r("li",{staticClass:"list-inline-item"},[t._v(t._s(t._f("pluralise")(t.album.total_tracks))+"  |")]),t._v(" "),r("li",{staticClass:"list-inline-item"},[t._v(t._s(t._f("getDuration")(t.album.tracks.items)))])]),t._v(" "),r("base-button",{attrs:{type:"simple",round:""},on:{click:t.play}},[t._v("Play")])],1)])])])])])])}),[],!1,null,"321176a5",null).exports,Tracklist:r(361).a},data:function(){return{loading:!1}},asyncData:function(t){var n,r,e,data;return regeneratorRuntime.async((function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.$axios,r=t.params,o.next=3,regeneratorRuntime.awrap(n.get("/albums/".concat(r.id)));case 3:return e=o.sent,data=e.data,o.abrupt("return",{album:data});case 6:case"end":return o.stop()}}))}},f=Object(d.a)(m,(function(){var t=this.$createElement,n=this._self._c||t;return n("fragment",[n("album-card",{attrs:{album:this.album}}),this._v(" "),n("tracklist",{attrs:{tracks:this.album.tracks.items}})],1)}),[],!1,null,null,null);n.default=f.exports}}]);