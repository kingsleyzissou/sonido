(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{360:function(t,e,r){"use strict";r(17);e.a=function(t){return'<a href="/artists/'.concat(t.id,'">').concat(t.name,"</a>")}},412:function(t,e,r){"use strict";r.r(e);r(14);var n=r(21),o=(r(32),r(406)),c={name:"line-chart",extends:o.a,mixins:[o.b.reactiveProp],props:{extraOptions:Object,gradientColors:{type:Array,default:function(){return["rgba(72,72,176,0.2)","rgba(72,72,176,0.0)","rgba(119,52,169,0)"]},validator:function(t){return t.length>2}},gradientStops:{type:Array,default:function(){return[1,.4,0]},validator:function(t){return t.length>2}}},data:function(){return{ctx:null}},methods:{updateGradients:function(t){if(t){var e=(this.ctx||document.getElementById(this.chartId).getContext("2d")).createLinearGradient(0,230,0,50);e.addColorStop(this.gradientStops[0],this.gradientColors[0]),e.addColorStop(this.gradientStops[1],this.gradientColors[1]),e.addColorStop(this.gradientStops[2],this.gradientColors[2]),t.datasets.forEach((function(t){t.backgroundColor=e}))}}},mounted:function(){var t=this;this.$watch("chartData",(function(e,r){t.updateGradients(t.chartData),r||t.renderChart(t.chartData,t.extraOptions)}),{immediate:!0})}},d=(r(60),r(23),r(11),r(6),r(38),r(28));function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function h(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(source,!0).forEach((function(e){Object(d.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(source).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var v={maintainAspectRatio:!1,legend:{display:!1},responsive:!0},f=(h({},v,{tooltips:{backgroundColor:"#f5f5f5",titleFontColor:"#333",bodyFontColor:"#666",bodySpacing:4,xPadding:12,mode:"nearest",intersect:0,position:"nearest"},scales:{yAxes:[{barPercentage:1.6,gridLines:{drawBorder:!1,color:"rgba(29,140,248,0.0)",zeroLineColor:"transparent"},ticks:{suggestedMin:60,suggestedMax:125,padding:20,fontColor:"#2380f7"}}],xAxes:[{barPercentage:1.6,gridLines:{drawBorder:!1,color:"rgba(29,140,248,0.1)",zeroLineColor:"transparent"},ticks:{padding:20,fontColor:"#2380f7"}}]}}),h({},v,{tooltips:{backgroundColor:"#f5f5f5",titleFontColor:"#333",bodyFontColor:"#666",bodySpacing:4,xPadding:12,mode:"nearest",intersect:0,position:"nearest"},scales:{yAxes:[{barPercentage:1.6,gridLines:{drawBorder:!1,color:"rgba(29,140,248,0.0)",zeroLineColor:"transparent"},ticks:{suggestedMin:-60,suggestedMax:0,padding:20,fontColor:"#9a9a9a"}}],xAxes:[{barPercentage:1.6,gridLines:{drawBorder:!1,color:"rgba(225,78,202,0.1)",zeroLineColor:"transparent"},ticks:{padding:20,fontColor:"#9a9a9a"}}]}})),m=(h({},v,{tooltips:{backgroundColor:"#f5f5f5",titleFontColor:"#333",bodyFontColor:"#666",bodySpacing:4,xPadding:12,mode:"nearest",intersect:0,position:"nearest"},scales:{yAxes:[{barPercentage:1.6,gridLines:{drawBorder:!1,color:"rgba(29,140,248,0.0)",zeroLineColor:"transparent"},ticks:{suggestedMin:60,suggestedMax:125,padding:20,fontColor:"#9a9a9a"}}],xAxes:[{barPercentage:1.6,gridLines:{drawBorder:!1,color:"rgba(225,78,202,0.1)",zeroLineColor:"transparent"},ticks:{padding:20,fontColor:"#9a9a9a"}}]}}),h({},v,{tooltips:{backgroundColor:"#f5f5f5",titleFontColor:"#333",bodyFontColor:"#666",bodySpacing:4,xPadding:12,mode:"nearest",intersect:0,position:"nearest"},scales:{yAxes:[{barPercentage:1.6,gridLines:{drawBorder:!1,color:"rgba(29,140,248,0.0)",zeroLineColor:"transparent"},ticks:{suggestedMin:50,suggestedMax:110,padding:20,fontColor:"#ff8a76"}}],xAxes:[{barPercentage:1.6,gridLines:{drawBorder:!1,color:"rgba(220,53,69,0.1)",zeroLineColor:"transparent"},ticks:{padding:20,fontColor:"#ff8a76"}}]}}),h({},v,{tooltips:{backgroundColor:"#f5f5f5",titleFontColor:"#333",bodyFontColor:"#666",bodySpacing:4,xPadding:12,mode:"nearest",intersect:0,position:"nearest"},scales:{yAxes:[{barPercentage:1.6,gridLines:{drawBorder:!1,color:"rgba(29,140,248,0.0)",zeroLineColor:"transparent"},ticks:{suggestedMin:50,suggestedMax:125,padding:20,fontColor:"#9e9e9e"}}],xAxes:[{barPercentage:1.6,gridLines:{drawBorder:!1,color:"rgba(0,242,195,0.1)",zeroLineColor:"transparent"},ticks:{padding:20,fontColor:"#9e9e9e"}}]}}),h({},v,{tooltips:{backgroundColor:"#f5f5f5",titleFontColor:"#333",bodyFontColor:"#666",bodySpacing:4,xPadding:12,mode:"nearest",intersect:0,position:"nearest"},scales:{yAxes:[{gridLines:{drawBorder:!1,color:"rgba(29,140,248,0.1)",zeroLineColor:"transparent"},ticks:{suggestedMin:60,suggestedMax:100,padding:20,fontColor:"#9e9e9e"}}],xAxes:[{gridLines:{drawBorder:!1,color:"rgba(29,140,248,0.1)",zeroLineColor:"transparent"},ticks:{padding:20,fontColor:"#9e9e9e"}}]}}),function(t,data,e){return{datasets:[{fill:!0,borderColor:t.colors.danger,borderWidth:2,borderDash:[],borderDashOffset:0,pointBackgroundColor:t.colors.danger,pointBorderColor:"rgba(255,255,255,0)",pointHoverBackgroundColor:t.colors.danger,pointBorderWidth:20,pointHoverRadius:4,pointHoverBorderWidth:15,pointRadius:4,data:data}],labels:e}}),C={props:["id"],components:{LineChart:c},data:function(){return{loading:!0,tab:0,categories:[{index:0,name:"Loudness",title:"Loudness (in dBs)"},{index:1,name:"Tempo",title:"Tempo (in bpm)"}],chart:{data:{datasets:[{}]},extraOptions:f,gradientColors:this.$config.colors.purpleGradient,gradientStops:[1,.4,0],categories:[]},track:{},bars:Number,beats:Number,data:[{data:[],labels:[]},{data:[],labels:[]}]}},mounted:function(){var t,data,track,e,r,o,c,d,l,h,v,f,C,_,x,y;return regeneratorRuntime.async((function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,regeneratorRuntime.awrap(this.$axios.get("/audio-analysis/".concat(this.id)));case 2:t=w.sent,data=t.data,track=data.track,e=data.sections,r=data.beats,o=data.bars,c=this.loudness(e),d=Object(n.a)(c,2),l=d[0],h=d[1],v=this.tempo(e),f=Object(n.a)(v,2),C=f[0],_=f[1],x=m(this.$config,l,h),y=m(this.$config,C,_),this.data=[x,y],this.track=track,this.beats=r.length,this.bars=o.length,this.changeTab(this.tab),this.loading=!1;case 15:case"end":return w.stop()}}),null,this)},methods:{loudness:function(t){var e=t.map((function(section){return section.loudness}));return[e,t.map((function(section){return section.loudness+" dBs"}))]},tempo:function(t){return[t.map((function(section){return section.tempo})),t.map((function(section){return section.tempo+" bpm"}))]},changeTab:function(t){var e=this.data[t];this.tab=t,this.$refs.chart.updateGradients(e),this.chart.data=e}},computed:{features:function(){return this.data.features}},filters:{keyLookup:function(t){return["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"][t]},modeLookup:function(t){return 0===t?"minor":""}}},_=r(3),x=Object(_.a)(C,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("fragment",[r("div",{staticClass:"row"},[r("div",{staticClass:"col-6"},[r("card",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}]},[r("template",{slot:"header"},[r("h5",{staticClass:"card-category"},[t._v("Sample Rate")]),t._v(" "),r("h3",{staticClass:"card-title"},[r("i",{staticClass:"tim-icons icon-sound-wave text-primary"}),t._v("\n            "+t._s(t.track.analysis_sample_rate+"Hz")+"\n          ")])])],2)],1),t._v(" "),r("div",{staticClass:"col-6"},[r("card",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}]},[r("template",{slot:"header"},[r("h5",{staticClass:"card-category"},[t._v("Samples")]),t._v(" "),r("h3",{staticClass:"card-title"},[r("i",{staticClass:"tim-icons icon-chart-bar-32 text-success"}),t._v("\n            "+t._s(t.track.num_samples)+"\n          ")])])],2)],1)]),t._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-4"},[r("card",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}]},[r("template",{slot:"header"},[r("h5",{staticClass:"card-category"},[t._v("Song Key")]),t._v(" "),r("h3",{staticClass:"card-title"},[r("i",{staticClass:"tim-icons icon-key-25 text-danger"}),t._v("\n            "+t._s(t._f("keyLookup")(t.track.key))+"\n            "+t._s(t._f("modeLookup")(t.track.mode))+"\n          ")])])],2)],1),t._v(" "),r("div",{staticClass:"col-4"},[r("card",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}]},[r("template",{slot:"header"},[r("h5",{staticClass:"card-category"},[t._v("Average loudness")]),t._v(" "),r("h3",{staticClass:"card-title"},[r("i",{staticClass:"tim-icons icon-volume-98 text-info"}),t._v("\n            "+t._s(t.track.loudness+"dBs")+"\n          ")])])],2)],1),t._v(" "),r("div",{staticClass:"col-4"},[r("card",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}]},[r("template",{slot:"header"},[r("h5",{staticClass:"card-category"},[t._v("Bars")]),t._v(" "),r("h3",{staticClass:"card-title"},[r("span",{staticClass:"tim-icons text-warning"},[t._v("#")]),t._v("\n            "+t._s(t.bars)+"\n          ")])])],2)],1)]),t._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-12"},[r("card",{attrs:{type:"chart"}},[r("template",{slot:"header"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-6 text-left"},[r("h2",{staticClass:"card-title"},[t._v(t._s(t.categories[t.tab].title))])]),t._v(" "),r("div",{staticClass:"col-sm-6"},[r("div",{staticClass:"btn-group btn-group-toggle float-right",attrs:{"data-toggle":"buttons"}},t._l(t.categories,(function(e,n){return r("label",{key:n,staticClass:"btn btn-sm btn-primary btn-simple",class:{active:t.tab===n}},[r("input",{attrs:{type:"radio",name:"options",autocomplete:"off"},domProps:{checked:t.tab===n},on:{click:function(e){return t.changeTab(n)}}}),t._v("\n                  "+t._s(e.name)+"\n                ")])})),0)])])]),t._v(" "),r("div",{staticClass:"chart-area"},[r("line-chart",{ref:"chart",staticStyle:{height:"100%"},attrs:{"chart-id":"big-line-chart","chart-data":t.chart.data,"gradient-colors":t.chart.gradientColors,"gradient-stops":t.chart.gradientStops,"extra-options":t.chart.extraOptions}})],1)],2)],1)])])}),[],!1,null,null,null).exports,y={props:["id"],data:function(){return{loading:!0,tab:0,categories:[{index:0,name:"Charts"},{index:1,name:"Featured"},{index:2,name:"New Releases"},{index:3,name:"Genre/Mood"}],data:{features:{}}}},mounted:function(){var t,data;return regeneratorRuntime.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(this.$axios.get("/audio-features/".concat(this.id)));case 2:t=e.sent,data=t.data,this.data.features=data,this.loading=!1;case 6:case"end":return e.stop()}}),null,this)},methods:{changeTab:function(t){this.tab=t}},computed:{features:function(){return this.data.features}},filters:{toPercentage:function(t){return Math.round(100*t,2)+"%"},toMood:function(t){return t>.5?"Happy":"Sad"}}},w=Object(_.a)(y,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("fragment",[r("div",{staticClass:"row"},[r("div",{staticClass:"col-4"},[r("card",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}]},[r("template",{slot:"header"},[r("h5",{staticClass:"card-category"},[t._v("Danceability")]),t._v(" "),r("h3",{staticClass:"card-title"},[r("i",{staticClass:"tim-icons icon-planet text-success"}),t._v("\n            "+t._s(t._f("toPercentage")(t.features.danceability))+"\n          ")])])],2)],1),t._v(" "),r("div",{staticClass:"col-4"},[r("card",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}]},[r("template",{slot:"header"},[r("h5",{staticClass:"card-category"},[t._v("Energy")]),t._v(" "),r("h3",{staticClass:"card-title"},[r("i",{staticClass:"tim-icons icon-bulb-63 text-info"}),t._v("\n            "+t._s(t._f("toPercentage")(t.features.energy))+"\n          ")])])],2)],1),t._v(" "),r("div",{staticClass:"col-4"},[r("card",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}]},[r("template",{slot:"header"},[r("h5",{staticClass:"card-category"},[t._v("Mood")]),t._v(" "),r("h3",{staticClass:"card-title"},[r("i",{staticClass:"tim-icons icon-satisfied text-primary"}),t._v("\n            "+t._s(t._f("toMood")(t.features.valence))+"\n          ")])])],2)],1)])])}),[],!1,null,null,null).exports,k=r(360),L={layout:"dashboard",components:{Analysis:x,Features:w},data:function(){return{active:[!0,!1],data:{track:{}}}},mounted:function(){var t,data;return regeneratorRuntime.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(this.$axios.get("/tracks/".concat(this.$route.params.id)));case 2:t=e.sent,data=t.data,this.data.track=data;case 5:case"end":return e.stop()}}),null,this)},methods:{switchTab:function(t){this.active=this.active.map((function(e,i){return i==t}))}},computed:{track:function(){return this.data.track}},filters:{stringify:function(t){if(t){var e=t.length;return 1===e?Object(k.a)(t[0]):e<3?t.map((function(a){return Object(k.a)(a)})).join(", "):(t=t.slice(0,2)).map((function(a){return Object(k.a)(a)})).join(", ")+"..."}}}},P=Object(_.a)(L,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("fragment",[r("div",{staticClass:"row"},[r("div",{staticClass:"col-12"},[r("card",[r("h6",{staticClass:"mb-0"},[t._v("Track")]),t._v(" "),r("h2",{staticClass:"album-title"},[t._v(t._s(t.track.name))]),t._v(" "),r("span",[t._v("by")]),t._v(" "),r("h6",{staticClass:"muted",domProps:{innerHTML:t._s(t.$options.filters.stringify(t.track.artists))}}),t._v(" "),r("button",{staticClass:"btn btn-primary"},[t._v("Play")])])],1)]),t._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-12"},[r("card",{staticClass:"mb-0",attrs:{type:"plain"}},[r("h2",{staticClass:"card-title"},[t._v("Audio Analysis")])])],1)]),t._v(" "),r("ul",{staticClass:"nav"},[r("li",{staticClass:"nav-item"},[r("a",{staticClass:"nav-link",class:{active:t.active[0]},attrs:{href:"#home"},on:{click:function(e){return e.preventDefault(),t.switchTab(0)}}},[t._v("Analysis")])]),t._v(" "),r("li",{staticClass:"nav-item"},[r("a",{staticClass:"nav-link",class:{active:t.active[1]},attrs:{href:"#home"},on:{click:function(e){return e.preventDefault(),t.switchTab(1)}}},[t._v("Features")])])]),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:t.active[0],expression:"active[0]"}]},[r("analysis",{attrs:{id:t.$route.params.id}})],1),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:t.active[1],expression:"active[1]"}]},[r("features",{attrs:{id:t.$route.params.id}})],1)])}),[],!1,null,null,null);e.default=P.exports}}]);